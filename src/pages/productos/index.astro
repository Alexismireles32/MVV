---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Section from '../../components/Section.astro';
import WhatsAppButton from '../../components/WhatsAppButton.astro';
import FAQItem from '../../components/FAQItem.astro';

const products = [
  {
    id: 'detox-natural',
    name: 'Detox Natural',
    tagline: 'Limpieza profunda y natural',
    benefits: [
      'Ayuda a eliminar toxinas acumuladas',
      'Apoya la función hepática natural',
      'Mejora la energía y vitalidad',
      'Ingredientes 100% naturales'
    ],
    ingredients: 'Clorella, Cilantro, Ajo, Spirulina, Extracto de Cardo Mariano',
    usage: 'Tomar 2 cápsulas al día con alimentos, preferiblemente en la mañana.',
    warnings: 'Consulte a su médico si está embarazada, amamantando o tomando medicamentos. Mantenga fuera del alcance de los niños.',
    faqs: [
      {
        question: '¿Cuánto tiempo debo tomar Detox Natural?',
        answer: 'Recomendamos un ciclo mínimo de 3 meses para resultados óptimos. Puede usarse de forma continua bajo supervisión de un profesional de la salud.'
      },
      {
        question: '¿Puedo tomarlo con otros suplementos?',
        answer: 'Sí, generalmente es seguro combinarlo con otros suplementos. Sin embargo, recomendamos consultar con su médico si está tomando medicamentos recetados.'
      }
    ]
  },
  {
    id: 'inmuno-plus',
    name: 'Inmuno Plus',
    tagline: 'Fortalece tus defensas naturales',
    benefits: [
      'Refuerza el sistema inmunológico',
      'Rico en antioxidantes naturales',
      'Apoya la salud respiratoria',
      'Ideal para toda la familia'
    ],
    ingredients: 'Vitamina C, Zinc, Equinácea, Saúco, Jengibre, Vitamina D3',
    usage: 'Tomar 1-2 cápsulas al día con alimentos. Aumentar a 3 cápsulas durante temporada de resfriados.',
    warnings: 'No exceder la dosis recomendada. Consulte a su médico antes de usar si tiene condiciones autoinmunes.',
    faqs: [
      {
        question: '¿Es seguro para niños?',
        answer: 'Sí, es seguro para niños mayores de 4 años. Recomendamos 1 cápsula al día para niños. Consulte con su pediatra para niños menores.'
      },
      {
        question: '¿Puedo tomarlo todo el año?',
        answer: 'Sí, Inmuno Plus puede tomarse durante todo el año para mantener un sistema inmunológico saludable.'
      }
    ]
  },
  {
    id: 'energia-vital',
    name: 'Energía Vital',
    tagline: 'Energía natural sin estimulantes',
    benefits: [
      'Aumenta la energía de forma natural',
      'Mejora la concentración mental',
      'Reduce la fatiga y el cansancio',
      'Sin cafeína ni estimulantes artificiales'
    ],
    ingredients: 'Complejo B, Magnesio, Coenzima Q10, Ashwagandha, Rhodiola Rosea',
    usage: 'Tomar 2 cápsulas en la mañana con el desayuno.',
    warnings: 'No recomendado para mujeres embarazadas o en lactancia sin consultar a su médico.',
    faqs: [
      {
        question: '¿Me mantendrá despierto por la noche?',
        answer: 'No, Energía Vital no contiene estimulantes como cafeína. Proporciona energía natural sin afectar el sueño.'
      },
      {
        question: '¿Cuándo notaré los efectos?',
        answer: 'Algunos usuarios notan mejoras en energía dentro de la primera semana, pero los beneficios completos se observan después de 2-4 semanas de uso consistente.'
      }
    ]
  }
];

// Product JSON-LD Schema
const productsSchema = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "itemListElement": products.map((product, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "item": {
      "@type": "Product",
      "name": product.name,
      "description": product.tagline,
      "brand": {
        "@type": "Brand",
        "name": "MVV Natural USA"
      },
      "offers": {
        "@type": "Offer",
        "availability": "https://schema.org/InStock",
        "priceCurrency": "USD"
      }
    }
  }))
};
---

<BaseLayout
  title="Productos — MVV Natural USA | Suplementos Naturales"
  description="Conoce nuestra línea de suplementos naturales: Detox Natural, Inmuno Plus y Energía Vital. Ingredientes limpios con respaldo científico para toda la familia."
  jsonLd={productsSchema}
>
  <Header />
  
  <main>
    <!-- Hero -->
    <section class="bg-gradient-to-br from-cream to-white py-16">
      <div class="container mx-auto px-4 text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 text-balance">
          Nuestros Suplementos Naturales
        </h1>
        <p class="text-lg md:text-xl text-gray-700 max-w-3xl mx-auto text-pretty">
          Cada producto está formulado con ingredientes naturales de la más alta calidad, respaldados por investigación científica.
        </p>
      </div>
    </section>
    
    <!-- Productos -->
    <Section background="white">
      <div class="space-y-16">
        {products.map((product, index) => (
          <div class={`grid md:grid-cols-2 gap-8 items-start ${index % 2 === 1 ? 'md:flex-row-reverse' : ''}`}>
            <div class={index % 2 === 1 ? 'md:order-2' : ''}>
              <img 
                src={`/images/product-${product.id}.webp`}
                alt={product.name}
                width="500"
                height="500"
                class="rounded-xl shadow-lg w-full h-auto"
                loading="lazy"
                decoding="async"
              />
            </div>
            
            <div class={index % 2 === 1 ? 'md:order-1' : ''}>
              <h2 class="text-3xl font-bold text-gray-900 mb-2">{product.name}</h2>
              <p class="text-xl text-primary mb-6">{product.tagline}</p>
              
              <div class="mb-6">
                <h3 class="font-bold text-gray-900 mb-3">Beneficios:</h3>
                <ul class="space-y-2">
                  {product.benefits.map((benefit) => (
                    <li class="flex items-start gap-2">
                      <svg class="w-6 h-6 text-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                      </svg>
                      <span class="text-gray-700">{benefit}</span>
                    </li>
                  ))}
                </ul>
              </div>
              
              <div class="mb-6">
                <h3 class="font-bold text-gray-900 mb-2">Ingredientes:</h3>
                <p class="text-gray-700">{product.ingredients}</p>
              </div>
              
              <div class="mb-6">
                <h3 class="font-bold text-gray-900 mb-2">Modo de Uso:</h3>
                <p class="text-gray-700">{product.usage}</p>
              </div>
              
              <div class="mb-6">
                <h3 class="font-bold text-gray-900 mb-2">Advertencias:</h3>
                <p class="text-sm text-gray-600">{product.warnings}</p>
              </div>
              
              {product.faqs.length > 0 && (
                <div class="mb-6">
                  <h3 class="font-bold text-gray-900 mb-3">Preguntas Frecuentes:</h3>
                  <div class="bg-gray-50 rounded-lg overflow-hidden">
                    {product.faqs.map((faq, faqIndex) => (
                      <FAQItem {...faq} id={`${product.id}-${faqIndex}`} />
                    ))}
                  </div>
                </div>
              )}
              
              <WhatsAppButton text={`Consultar sobre ${product.name}`} variant="inline" />
            </div>
          </div>
        ))}
      </div>
    </Section>
    
    <!-- CTA -->
    <Section background="cream">
      <div class="bg-white rounded-2xl p-8 md:p-12 text-center shadow-lg max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-4 text-balance">
          ¿No estás seguro cuál producto es para ti?
        </h2>
        <p class="text-lg text-gray-700 mb-6 text-pretty">
          Contáctanos por WhatsApp y te ayudaremos a elegir el suplemento ideal para tus necesidades.
        </p>
        <WhatsAppButton text="Recibir Asesoría Personalizada" variant="inline" />
      </div>
    </Section>
  </main>
  
  <Footer />
  <WhatsAppButton variant="floating" />
</BaseLayout>
